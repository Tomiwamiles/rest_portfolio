<%- contentFor('title') %>My Profile

<section class="profile-section section">
  <div class="container">
    <div class="section-header">
      <h1 class="section-title">My Profile</h1>
      <p class="section-description">Manage your account information</p>
    </div>
    
    <div class="row">
      <!-- Profile Information -->
      <div class="col-lg-8 mb-4">
        <div class="card shadow-sm">
          <div class="card-header bg-white">
            <h3 class="card-title">Account Information</h3>
          </div>
          <div class="card-body">
            <form action="/profile" method="POST" class="needs-validation">
              <div class="form-group mb-3">
                <label for="name" class="form-label">Full Name</label>
                <input 
                  type="text" 
                  id="name" 
                  name="name" 
                  class="form-control" 
                  value="<%= user.name %>" 
                  required
                >
              </div>
              
              <div class="form-group mb-3">
                <label for="email" class="form-label">Email Address</label>
                <input 
                  type="email" 
                  id="email" 
                  name="email" 
                  class="form-control" 
                  value="<%= user.email %>" 
                  required
                >
              </div>
              
              <hr class="my-4">
              
              <h5 class="mb-3">Update Password</h5>
              <p class="text-muted small mb-3">Leave blank if you don't want to change it</p>
              
              <div class="form-group mb-3">
                <label for="currentPassword" class="form-label">Current Password</label>
                <input 
                  type="password" 
                  id="currentPassword" 
                  name="currentPassword" 
                  class="form-control"
                >
              </div>
              
              <div class="form-group mb-3">
                <label for="newPassword" class="form-label">New Password</label>
                <input 
                  type="password" 
                  id="newPassword" 
                  name="newPassword" 
                  class="form-control"
                  minlength="6"
                >
              </div>
              
              <div class="form-group mb-4">
                <label for="confirmPassword" class="form-label">Confirm New Password</label>
                <input 
                  type="password" 
                  id="confirmPassword" 
                  name="confirmPassword" 
                  class="form-control"
                >
              </div>
              
              <div class="d-grid">
                <button type="submit" class="btn btn-primary">Update Profile</button>
              </div>
            </form>
          </div>
        </div>
      </div>
      
      <!-- Sidebar -->
      <div class="col-lg-4">
        <!-- Profile Actions -->
        <div class="card shadow-sm mb-4">
          <div class="card-header bg-white">
            <h3 class="card-title">Actions</h3>
          </div>
          <div class="card-body">
            <ul class="list-group list-group-flush">
              <% if (!user.artisanProfile) { %>
                <li class="list-group-item px-0">
                  <a href="/artisans/register" class="btn btn-outline-primary d-block">
                    <i class="fas fa-user-tie me-2"></i> Register as Artisan
                  </a>
                </li>
              <% } else { %>
                <li class="list-group-item px-0">
                  <a href="/artisans/<%= user.artisanProfile %>" class="btn btn-outline-primary d-block">
                    <i class="fas fa-user-tie me-2"></i> View My Artisan Profile
                  </a>
                </li>
              <% } %>
              <li class="list-group-item px-0">
                <a href="#" class="btn btn-outline-secondary d-block">
                  <i class="fas fa-clipboard-list me-2"></i> My Bookings
                </a>
              </li>
              <% if (user.role === 'admin') { %>
                <li class="list-group-item px-0">
                  <a href="/admin/dashboard" class="btn btn-outline-dark d-block">
                    <i class="fas fa-cog me-2"></i> Admin Dashboard
                  </a>
                </li>
              <% } %>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .card-title {
    font-size: 1.25rem;
    margin-bottom: 0;
  }
  
  .card-header {
    padding: 1rem;
    border-bottom: 1px solid var(--border-color);
  }
</style> 